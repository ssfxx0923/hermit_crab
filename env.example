# ============================================
# Hermit Crab 配置文件
# 使用方法：复制为 .env 并填入实际值
# cp env.example .env
# ============================================

# ============================================
# 基本配置
# ============================================
# 项目安装路径
HERMIT_INSTALL_PATH=/root/hermit_crab

# 日志级别：DEBUG, INFO, WARNING, ERROR
HERMIT_LOG_LEVEL=INFO

# 当前服务器业务域名（迁移时DNS会更新到新服务器）
HERMIT_CURRENT_DOMAIN=a.ssfxx.com

# ============================================
# 服务器生命周期配置
# ============================================
# 服务器总生命周期（天）
HERMIT_TOTAL_DAYS=20

# 触发迁移的剩余天数阈值
HERMIT_MIGRATE_THRESHOLD=5

# 目标服务器至少要比当前服务器多多少天
HERMIT_MINIMUM_GAIN_DAYS=1

# 检查间隔（秒），默认每小时
HERMIT_CHECK_INTERVAL=3600

# ============================================
# GitHub 配置（用于中心化管理服务器列表）
# ============================================
# 启用GitHub同步
HERMIT_GITHUB_ENABLED=true

# GitHub仓库（格式: username/repo）
HERMIT_GITHUB_REPO=your-username/hermit-nodes

# GitHub Personal Access Token（需要 repo 权限）
HERMIT_GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# nodes.json 在仓库中的路径
HERMIT_GITHUB_NODES_FILE=nodes.json

# ============================================
# CloudFlare DNS 配置
# ============================================
# 启用CloudFlare DNS自动更新
HERMIT_CF_ENABLED=true

# CloudFlare Zone ID
HERMIT_CF_ZONE_ID=your_zone_id

# CloudFlare API Token
HERMIT_CF_TOKEN=your_cloudflare_api_token_here

# 域名后缀（如 ssfxx.com）
HERMIT_CF_DOMAIN=ssfxx.com

# DNS记录TTL（秒）
HERMIT_CF_TTL=120

# ============================================
# SSH 配置
# ============================================
# SSH用户名
HERMIT_SSH_USER=root

# SSH密钥路径
HERMIT_SSH_KEY_PATH=/root/.ssh/hermit_crab_id_rsa

# SSH连接超时（秒）
HERMIT_SSH_TIMEOUT=30

# SSH密码（必需！即使使用密钥，首次连接也需要）
# 方式1：所有服务器相同密码
HERMIT_SSH_PASSWORD=your_common_root_password

# 方式2：每台服务器不同密码（格式：ip1:pass1|ip2:pass2）
# HERMIT_SSH_PASSWORD=192.168.1.11:pass1|192.168.1.12:pass2

# ============================================
# Rsync 配置
# ============================================
# 带宽限制（KB/s），0表示不限制
HERMIT_RSYNC_BANDWIDTH_LIMIT=0

# 超时时间（秒）
HERMIT_RSYNC_TIMEOUT=7200

# 额外参数
HERMIT_RSYNC_EXTRA_ARGS=-aAXvzP --delete --numeric-ids

# ============================================
# 迁移配置
# ============================================
# 最大重试次数
HERMIT_MAX_RETRIES=3

# 重试间隔（秒）
HERMIT_RETRY_INTERVAL=300

# 新服务器启动等待时间（秒）
HERMIT_STARTUP_WAIT=120

# ============================================
# 邮件通知配置（使用 Resend API）
# ============================================
# 启用邮件通知
HERMIT_NOTIFICATION_ENABLED=true

# Resend API Key（在 https://resend.com/api-keys 获取）
HERMIT_RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxx

# 发件人邮箱（需要在 Resend 中验证域名）
HERMIT_NOTIFICATION_FROM=Hermit Crab <noreply@yourdomain.com>

# 收件人邮箱（多个用逗号分隔）
HERMIT_NOTIFICATION_TO=admin@example.com,ops@example.com

# ============================================
# 调试模式（可选）
# ============================================
# 启用调试模式
# HERMIT_DEBUG=false

# 干运行模式（不实际执行迁移）
# HERMIT_DRY_RUN=false

# 跳过重启
# HERMIT_SKIP_REBOOT=false
